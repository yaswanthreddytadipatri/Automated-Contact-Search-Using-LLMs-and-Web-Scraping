<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>Contact Information Finder</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            /* background-color: #F2F0EA; */
            background-color: black;
            color: rgb(207, 205, 205);
            margin: 0;
            padding: 20px;
        }

        h1 {
            text-align: center;
            color: rgb(207, 205, 205);
        }

        form {
            max-width: 600px;
            margin: 20px auto;
            /* background: #fff; */
            background: black;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        input[type="text"], button {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            color: white;
            /* border: 1px solid #ddd; */
            border: 1px solid rgb(79, 78, 78);
            background: black;
            border-radius: 4px;
            font-size: 16px;
        }

        button {
            /* background-color: #007BFF; */

            color: white;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background-color: #2596be;
        }

        #loading {
            display: none;
            text-align: center;
            margin-top: 20px;
        }

        .spinner {
            border: 8px solid #f3f3f3;
            border-top: 8px solid #007BFF;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 2s linear infinite;
            margin: auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .contact-details {
            display: none;
            background-color: #28242c;
            border: 1px solid #ddd;
            padding: 20px;
            border-radius: 8px;
            width: 60%;
            margin: 20px auto;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .contact-details h2 {
            text-align: center;
            color: #007BFF;
        }

        .contact-details ul {
            list-style-type: none;
            padding: 0;
        }

        .contact-details li {
            padding: 5px 0;
            border-bottom: 1px solid #ddd;
            margin-bottom: 5px;
        }

        .contact-details li:last-child {
            border-bottom: none;
        }

        .error-message {
            display: none;
            color: red;
            text-align: center;
            margin-top: 20px;
        }

        @import url('https://fonts.googleapis.com/css2?family=Mulish&display=swap');


h2 {
 position: relative;
  font-size: 22px;
  font-family: 'Arvo', sans-serif;
  font-weight: 400;
  text-align: center;
  line-height: 7;
  overflow: hidden;
  background: linear-gradient(90deg, #ffffff50, #ffffff99, #ffffff50);
  background-repeat: no-repeat;
  background-size: 80%;
  animation: animate 3s linear infinite;
  -webkit-background-clip: text;
  -webkit-text-fill-color: rgba(255, 255, 255, 0);
}

@keyframes animate {
  0% {
    background-position: -1000%;
  }
  100% {
    background-position: 1000%;
  }
}

.blob {
	width: 200px;
	height: 200px;
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	background: linear-gradient(45deg, #3023ae 0%, #ff0099 100%);
	box-shadow: 0 0 200px 0 rgba(255, 0, 153, 0.7), 0 0 50px 0 rgba(48, 35, 174, 0.7);
  background-size: 200% 200%;
	animation: ai-blob 3s, gradient 12s;
  animation-iteration-count: infinite;
  animation-timing-function: linear;
	z-index:4;
}

.blob1 {
	width: 220px;
	height: 220px;
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	background-color: #3E29C120;
	animation: ai-blob 4s linear infinite;
  animation-direction: reverse;
	z-index:3;
}

.blob2 {
	width: 230px;
	height: 230px;
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	background-color: #E3117C20;
	animation: ai-blob 5s linear infinite;
	z-index:2;
}

.blob3 {
	width: 240px;
	height: 240px;
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	background-color: #7B20A820;
	animation: ai-blob 3.5s linear infinite;
	z-index:1;
}

@keyframes ai-blob {
	0% { border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%; }
	20% { border-radius: 60% 40% 40% 60% / 60% 25% 75% 40%; }
	40% { border-radius: 70% 30% 65% 35% / 80% 45% 55% 20%; }
	60% { border-radius: 30% 70% 70% 30% / 20% 30% 70% 80%; }
	80% { border-radius: 40% 60% 40% 60% / 70% 55% 45% 30%; }
	100% { border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%; }
}

@keyframes gradient {
	0% {
		background-position: 0% 50%;
	}
	50% {
		background-position: 100% 50%;
	}
	100% {
		background-position: 0% 50%;
	}
}

#container {
  position:relative;
  justify-content: center;
  width: 200px;
  height: 200px;
  margin: auto;
  transform: rotate(45deg);
  top: 50px;
  display: flex;
  justify-content: center;
  align-items: center;
  /* top: 0; bottom: 0; left: 0; right: 0; */
}
    </style>
</head>
<body>
    <h1>Find Contact Information</h1>
    <form id="myForm">
        <label for="url">Website URL:</label>
        <input type="text" id="url" name="url" placeholder="Enter the website URL" required>
        
        <label for="problem">Problem Description:</label>
        <input type="text" id="problem" name="problem" placeholder="Describe your problem"  required>

        <button class="btn btn-dark" type="submit" >Submit</button>
    </form>

    <!-- Loading animation -->
    <!-- <div id="loading">
        <div class="spinner"></div>
        <p>Processing your request...</p>
    </div> -->

    <!-- <div id="loading">
        <div class="blob"><h2>Searching...</h2></div>
        <div class="blob1"></div>
        <div class="blob2"></div>
        <div class="blob3"></div>
    </div> -->

    <div id="loading" style="justify-content: center;"> 
        
        <canvas id="container" width="200" height="200"></canvas>
        <br>
        <h2 style="color:rgb(207, 205, 205)">Searching Contact details...</h2>
        
    </div>
    

    <!-- Section to display the processed input -->
    <div id="response" class="contact-details container">
        <h3 style="color: white;">Contact Details</h3>
        <ul id="contact-list"></ul>
    </div>

    <!-- Error message -->
    <div id="error" class="error-message"></div>

    <script>
        var points = [],
    velocity2 = 5, // velocity squared
    canvas = 
document.getElementById('container'),
  context = canvas.getContext('2d'),
  radius = 5,
  boundaryX = 200,
  boundaryY = 200,
  numberOfPoints = 30;

init();

function init() {
  // create points
  for (var i = 0; i<numberOfPoints; i++) {
    createPoint();
  }
  // create connections
  for (var i = 0, l=points.length; i<l; i++) {
    var point = points[i];
    if(i == 0) {
      points[i].buddy = points[points.length-1];
    } else {
      points[i].buddy = points[i-1];
    }
  }
  
  // animate
  animate();
}

function createPoint() {
  var point = {}, vx2, vy2;
  point.x = Math.random()*boundaryX;
  point.y = Math.random()*boundaryY;
  // random vx 
  point.vx = (Math.floor(Math.random())*2-1)*Math.random();
  vx2 = Math.pow(point.vx, 2);
  // vy^2 = velocity^2 - vx^2
  vy2 = velocity2 - vx2;
  point.vy = Math.sqrt(vy2) * (Math.random()*2-1);
  points.push(point);
}

function resetVelocity(point, axis, dir) {
  var vx, vy;
  if(axis == 'x') {
    point.vx = dir*Math.random();  
    vx2 = Math.pow(point.vx, 2);
  // vy^2 = velocity^2 - vx^2
  vy2 = velocity2 - vx2;
  point.vy = Math.sqrt(vy2) * (Math.random()*2-1);
  } else {
    point.vy = dir*Math.random();  
    vy2 = Math.pow(point.vy, 2);
  // vy^2 = velocity^2 - vx^2
  vx2 = velocity2 - vy2;
  point.vx = Math.sqrt(vx2) * (Math.random()*2-1);
  }
}

function drawCircle(x, y) {
  context.beginPath();
  context.arc(x, y, radius, 0, 2 * Math.PI, false);
  context.fillStyle = '#2596be';
  context.fill();  
}

function drawLine(x1, y1, x2, y2) {
  context.beginPath();
  context.moveTo(x1, y1);
  context.lineTo(x2, y2);
  context.strokeStyle = '#2596be'
  context.stroke();
}  

function draw() {
  for(var i =0, l=points.length; i<l; i++) {
    // circles
    var point = points[i];
    point.x += point.vx;
    point.y += point.vy;
    drawCircle(point.x, point.y);
    // lines
    drawLine(point.x, point.y, point.buddy.x, point.buddy.y);
    // check for edge
    if(point.x < 0+radius) {
      resetVelocity(point, 'x', 1);
    } else if(point.x > boundaryX-radius) {
      resetVelocity(point, 'x', -1);
    } else if(point.y < 0+radius) {
      resetVelocity(point, 'y', 1);
    } else if(point.y > boundaryY-radius) {
      resetVelocity(point, 'y', -1);
    } 
  }
}

function animate() {
  context.clearRect ( 0 , 0 , 200 , 200 );
  draw();
  requestAnimationFrame(animate);
}
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('myForm');
            const loading = document.getElementById('loading');
            const responseDiv = document.getElementById('response');
            const contactList = document.getElementById('contact-list');
            const errorDiv = document.getElementById('error');

            form.addEventListener('submit', function(event) {
                event.preventDefault();  // Prevent default form submission

                loading.style.display = 'block';  // Show loading animation


                responseDiv.style.display = 'none';  // Hide the contact details section
                errorDiv.style.display = 'none';  // Hide any previous error messages
                contactList.innerHTML = '';  // Clear previous results

                const formData = new FormData(form);

                fetch('/submit', {
                    method: 'POST',
                    body: formData
                })
                .then(response => response.text())
                .then(data => {
                    loading.style.display = 'none';  // Hide loading animation

                    if (data) {
                        let formattedData = data.replace(/\*\*/g, "<strong>").replace(/(\*\*)(?!\s*<strong>)/g, "</strong>");
                        formattedData.split('\n').forEach(line => {
                            const listItem = document.createElement('li');
                            listItem.innerHTML = line;
                            contactList.appendChild(listItem);
                        });
                        responseDiv.style.display = 'block';  // Show the contact details section
                    } else {
                        errorDiv.textContent = 'No contact details found. Please try again.';
                        errorDiv.style.display = 'block';
                    }
                })
                .catch(error => {
                    loading.style.display = 'none';  // Hide loading animation
                    errorDiv.textContent = 'An error occurred: ' + error.message;
                    errorDiv.style.display = 'block';
                });
            });
        });
    </script>
    <script>
        
    </script>
</body>
</html>
